[gd_scene load_steps=7 format=3 uid="uid://dsgqmmf5csx5q"]

[ext_resource type="Script" uid="uid://ckd0uq03c2vtl" path="res://action_sequencer/action_sequencer.gd" id="1_ury52"]
[ext_resource type="PackedScene" uid="uid://ltdnwoljvgwp" path="res://action_sequencer/action_items/test_action_item.tscn" id="2_7huxh"]
[ext_resource type="PackedScene" uid="uid://c2yuwdalgstuj" path="res://action_sequencer/test_action_slot.tscn" id="3_h8boe"]
[ext_resource type="Script" uid="uid://c5nv8dno55d8q" path="res://action_sequencer/test_sequence_runner.gd" id="4_4n1ua"]
[ext_resource type="Texture2D" uid="uid://b5ek7ah8skgqi" path="res://action_sequencer/start_pushed.png" id="4_7huxh"]
[ext_resource type="Script" uid="uid://jvybmgwhf8e5" path="res://action_sequencer/test_playback_control.gd" id="5_201rw"]

[node name="ActionSequencerBase" type="Control" node_paths=PackedStringArray("items_container", "slots_container")]
layout_mode = 3
anchors_preset = 0
offset_right = 1024.0
offset_bottom = 576.0
script = ExtResource("1_ury52")
move_up_scene = ExtResource("2_7huxh")
move_right_scene = ExtResource("2_7huxh")
move_down_scene = ExtResource("2_7huxh")
move_left_scene = ExtResource("2_7huxh")
action_slot_scene = ExtResource("3_h8boe")
items_container = NodePath("SequencingLayout/ActionItems")
slots_container = NodePath("SequencingLayout/ActionSlots")
available_slots = 4
available_actions = Array[int]([1, 2])
action_quantities = Array[int]([2, 3])

[node name="SequencingLayout" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ActionSlots" type="HBoxContainer" parent="SequencingLayout"]
layout_mode = 2

[node name="ActionItems" type="VBoxContainer" parent="SequencingLayout"]
layout_mode = 2

[node name="PlayButton" type="TextureButton" parent="."]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -552.0
offset_top = -349.0
offset_right = -296.0
offset_bottom = -93.0
grow_horizontal = 0
grow_vertical = 0
texture_normal = ExtResource("4_7huxh")

[node name="Timer" type="Timer" parent="."]

[node name="TestSequenceRunner" type="Node" parent="."]
script = ExtResource("4_4n1ua")

[node name="TestPlaybackControl" type="Node" parent="."]
script = ExtResource("5_201rw")

[connection signal="perform_action" from="." to="TestSequenceRunner" method="_on_perform_action"]
[connection signal="pressed" from="PlayButton" to="." method="_on_play_button_pressed"]
[connection signal="timeout" from="Timer" to="." method="_on_advance"]
[connection signal="playback_play" from="TestPlaybackControl" to="." method="play"]
