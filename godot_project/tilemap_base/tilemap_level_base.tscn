[gd_scene load_steps=12 format=4 uid="uid://bo06pc8na5fpa"]

[ext_resource type="Script" uid="uid://cy4v1nu57af1o" path="res://tilemap_base/tilemap_level_base.gd" id="1_3qeya"]
[ext_resource type="TileSet" uid="uid://caeopn1ofm4ck" path="res://tilemap_base/train_walls.tres" id="2_8f44r"]
[ext_resource type="PackedScene" uid="uid://dsgqmmf5csx5q" path="res://action_sequencer/action_sequencer_base.tscn" id="2_s4tib"]
[ext_resource type="TileSet" uid="uid://cd8pqkqbg8nrr" path="res://tilemap_base/train_floor.tres" id="2_wstta"]
[ext_resource type="TileSet" uid="uid://cyxpoxyaw6ve8" path="res://tilemap_base/obstacles.tres" id="4_bsh3f"]
[ext_resource type="TileSet" uid="uid://dtbtqvpvt1qm3" path="res://tilemap_base/train_mini_walls.tres" id="5_bsh3f"]
[ext_resource type="TileSet" uid="uid://c3ksn0lys57ue" path="res://tilemap_base/train_exterior.tres" id="5_cct4y"]
[ext_resource type="Texture2D" uid="uid://biw3rlelfmcyf" path="res://environment/car_connector.png" id="7_cct4y"]

[sub_resource type="Gradient" id="Gradient_yheth"]
offsets = PackedFloat32Array(0, 0.716783)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_bsh3f"]
gradient = SubResource("Gradient_yheth")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bsh3f"]
size = Vector2(20, 27)

[node name="TilemapLevelBase" type="Node2D"]
z_index = -1
y_sort_enabled = true
script = ExtResource("1_3qeya")
sequencer_scene = ExtResource("2_s4tib")

[node name="Windows" type="TileMapLayer" parent="."]
position = Vector2(0, -5.37)
tile_set = ExtResource("2_8f44r")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAIAAAADAAAAAAAAAAIAAAAEAAAAAAAAAAIAAAAFAAAAAAAAAAIAAAAGAAAAAAAAAAIAAAAHAAAAAAAAAAIAAAAIAAAAAAAAAAIAAAAJAAAAAAAAAAIAAAAAAAEAAAAAAAIAAAABAAEAAAAAAAIAAAACAAEAAAAAAAIAAAADAAEAAAAAAAIAAAAEAAEAAAAAAAIAAAAFAAEAAAAAAAIAAAAGAAEAAAAAAAIAAAAHAAEAAAAAAAIAAAAIAAEAAAAAAAIAAAAJAAEAAAAAAAIAAAAKAAAAAAAAAAIAAAAKAAEAAAAAAAIAAAAAAAQAAAAAAAIAAAABAAQAAAAAAAIAAAACAAQAAAAAAAIAAAADAAQAAAAAAAIAAAAEAAQAAAAAAAIAAAAFAAQAAAAAAAIAAAAGAAQAAAAAAAIAAAAHAAQAAAAAAAIAAAAIAAQAAAAAAAIAAAAJAAQAAAAAAAIAAAAKAAQAAAAAAAIAAAAAAAUAAAAAAAIAAAABAAUAAAAAAAIAAAACAAUAAAAAAAIAAAADAAUAAAAAAAIAAAAEAAUAAAAAAAIAAAAFAAUAAAAAAAIAAAAGAAUAAAAAAAIAAAAHAAUAAAAAAAIAAAAIAAUAAAAAAAIAAAAJAAUAAAAAAAIAAAAKAAUAAAAAAAIAAAAAAAIAAAAAAAMAAAAAAAMAAAAAAAMAAAAKAAIAAAAAAAMAAAAKAAMAAAAAAAMAAAABAAIAAAAAAAEAAAACAAIAAAAAAAEAAAADAAIAAAAAAAEAAAAEAAIAAAAAAAEAAAAFAAIAAAAAAAEAAAAGAAIAAAAAAAEAAAAHAAIAAAAAAAEAAAAIAAIAAAAAAAEAAAAJAAIAAAAAAAEAAAAJAAMAAAAAAAEAAAAIAAMAAAAAAAEAAAAHAAMAAAAAAAEAAAAGAAMAAAAAAAEAAAAFAAMAAAAAAAEAAAAEAAMAAAAAAAEAAAADAAMAAAAAAAEAAAACAAMAAAAAAAEAAAABAAMAAAAAAAEAAAA=")
tile_set = ExtResource("2_wstta")

[node name="Obstacles" type="TileMapLayer" parent="."]
y_sort_enabled = true
position = Vector2(0, -13)
tile_map_data = PackedByteArray("AAAGAAMAAgACAAIAAAAGAAQAAgACAAMAAAA=")
tile_set = ExtResource("4_bsh3f")

[node name="BackWall" type="TileMapLayer" parent="."]
position = Vector2(0, -5.37)
tile_map_data = PackedByteArray("AAAHAP7/AQAAAA4AAAAHAP//AQAAAA0AAAAHAP3/AQAAAAwAAAAIAP3/AQAAAAAAAAAIAP7/AQAAABAAAAAIAP//AQAAAAgAAAAJAP3/AQAAAAMAAAAJAP7/AQAAABEAAAAJAP//AQAAAAkAAAAKAP3/AQAAAAQAAAAKAP7/AQAAABIAAAAKAP//AQAAAAoAAAAEAP3/AQAAAAAAAAAEAP7/AQAAAAUAAAAEAP//AQAAAAgAAAAFAP3/AQAAAAMAAAAFAP7/AQAAAAYAAAAFAP//AQAAAAkAAAAGAP3/AQAAAAQAAAAGAP7/AQAAAAcAAAAGAP//AQAAAAoAAAAAAP3/AQAAAAAAAAAAAP7/AQAAAAUAAAAAAP//AQAAAAgAAAABAP3/AQAAAAMAAAABAP7/AQAAAAYAAAABAP//AQAAAAkAAAACAP3/AQAAAAQAAAACAP7/AQAAAAcAAAACAP//AQAAAAoAAAADAP3/AQAAAAwAAAADAP7/AQAAAA4AAAADAP//AQAAAA0AAAA=")
tile_set = ExtResource("2_8f44r")

[node name="PointLight2D" type="PointLight2D" parent="BackWall"]
position = Vector2(112, -79.63)
shadow_enabled = true
texture = SubResource("GradientTexture2D_bsh3f")
texture_scale = 1.4

[node name="PointLight2D2" type="PointLight2D" parent="BackWall"]
position = Vector2(240, -79.63)
shadow_enabled = true
texture = SubResource("GradientTexture2D_bsh3f")
texture_scale = 1.4

[node name="PointLight2D3" type="PointLight2D" parent="BackWall"]
position = Vector2(-2, 42.37)
shadow_enabled = true
texture = SubResource("GradientTexture2D_bsh3f")
texture_scale = 1.4

[node name="PointLight2D4" type="PointLight2D" parent="BackWall"]
position = Vector2(356, 42.37)
shadow_enabled = true
texture = SubResource("GradientTexture2D_bsh3f")
texture_scale = 1.4

[node name="Windows" type="TileMapLayer" parent="BackWall"]
tile_map_data = PackedByteArray("AAAAAP3/AQAAAAEAAAACAP3/AQAAAAIAAAAEAP3/AQAAAAEAAAAIAP3/AQAAAAEAAAAGAP3/AQAAAAIAAAAKAP3/AQAAAAIAAAA=")
tile_set = ExtResource("2_8f44r")

[node name="LeftExteriorFloor" type="TileMapLayer" parent="."]
light_mask = 2
position = Vector2(-8.345, -5)
tile_map_data = PackedByteArray("AAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAD//wQAAAAAAAAAAAD//wUAAAAAAAAAAAD/////AAAAAAAAAAA=")
tile_set = ExtResource("2_wstta")

[node name="LeftExterior" type="TileMapLayer" parent="LeftExteriorFloor"]
light_mask = 2
tile_map_data = PackedByteArray("AAD///3/AAAAAAYAAAD///7/AAAAAAcAAAD/////AAAAAAgAAAD//wAAAAAAAAkAAAD//wEAAAAAABMAAAD//wIAAAAAABQAAAD//wMAAAAAABUAAAD+//3/AAAAAAAAAAD+//7/AAAAAAEAAAD+////AAAAAAEAAAD+/wAAAAAAAAIAAAD+/wEAAAAAAAMAAAAAAAQAAAAAABYAAAABAAQAAAAAABcAAAACAAQAAAAAABcAAAADAAQAAAAAABcAAAAEAAQAAAAAABgAAAA=")
tile_set = ExtResource("5_cct4y")

[node name="LeftWall" type="TileMapLayer" parent="LeftExteriorFloor"]
light_mask = 2
position = Vector2(13, 0)
tile_map_data = PackedByteArray("AAD//wcAAAAAAAsAAAD//wYAAAAAAAoAAAD//wUAAAAAAAoAAAD//wQAAAAAAAoAAAD//wMAAAAAAAoAAAD//wIAAAAAAAoAAAD//wEAAAAAAAkAAAD//wAAAAABAAgAAAD/////AAABAAgAAAD///7/AAABAAgAAAD///3/AAABAAgAAAD///z/AAABAAgAAAD///v/AAABAAgAAAD///r/AAAAAAgAAAA=")
tile_set = ExtResource("5_bsh3f")

[node name="RightExteriorFloor" type="TileMapLayer" parent="."]
light_mask = 2
position = Vector2(9.315, -5)
tile_map_data = PackedByteArray("AAALAAUAAAAAAAAAAAALAAQAAAAAAAAAAAALAAMAAAAAAAAAAAALAAIAAAAAAAAAAAALAAEAAAAAAAAAAAALAAAAAAAAAAAAAAALAP//AAAAAAAAAAALAP7/AAAAAAAAAAA=")
tile_set = ExtResource("2_wstta")

[node name="RightExterior" type="TileMapLayer" parent="RightExteriorFloor"]
light_mask = 2
position = Vector2(-31.94, 0)
tile_map_data = PackedByteArray("AAAMAP3/AAAAAAYAAAAMAP7/AAAAAAcAAAAMAP//AAAAAAgAAAAMAAAAAAAAAAkAAAAMAAEAAAAAABMAAAAMAAIAAAAAABQAAAAMAAMAAAAAABUAAAANAP3/AAAAAAAAABANAP7/AAAAAAEAABANAP//AAAAAAEAABANAAAAAAAAAAIAABANAAEAAAAAAAMAABALAAQAAAAAABgAAAAKAAQAAAAAABcAAAAJAAQAAAAAABcAAAAIAAQAAAAAABcAAAAHAAQAAAAAABYAAAA=")
tile_set = ExtResource("5_cct4y")

[node name="RightWall" type="TileMapLayer" parent="RightExteriorFloor"]
light_mask = 2
position = Vector2(4.27, 0)
tile_map_data = PackedByteArray("AAAVAPr/AAAAAAgAAAAVAPv/AAABAAgAAAAVAPz/AAABAAgAAAAVAP3/AAABAAgAAAAVAP7/AAABAAgAAAAVAP//AAABAAgAAAAVAAAAAAABAAgAAAAVAAEAAAAAAAkAAAAVAAIAAAABAAoAAAAVAAMAAAABAAoAAAAVAAQAAAABAAoAAAAVAAUAAAABAAoAAAAVAAYAAAAAAAoAAAAVAAcAAAAAAAsAAAA=")
tile_set = ExtResource("5_bsh3f")

[node name="Target" type="Area2D" parent="."]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Target"]
position = Vector2(336, 53)
shape = SubResource("RectangleShape2D_bsh3f")

[node name="AdditionalSprites" type="Node2D" parent="."]

[node name="CarConnector" type="Sprite2D" parent="AdditionalSprites"]
z_index = -1
position = Vector2(421, 58)
texture = ExtResource("7_cct4y")

[connection signal="area_entered" from="Target" to="." method="_on_target_area_entered"]
